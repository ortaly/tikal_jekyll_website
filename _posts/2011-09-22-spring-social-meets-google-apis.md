---
layout: post
title: Spring Social Meets Google APIs
created: 1316687460
author: gabi
permalink: /spring-social-meets-google-apis
---
For the past several weeks I have been working on the <a href="https://github.com/GabiAxel/spring-social-google">Spring Social Google</a> project. The goal of <a href="http://www.springsource.org/spring-social">Spring Social</a> is to act as an abstraction layer between your application code and various social APIs, and removes the need for you to deal with authentication and HTTP-Java mapping, and now you can use it with a growing number of Google APIs, starting with the <a href="http://code.google.com/apis/contacts/">Contacts API</a> and <a href="https://developers.google.com/+/api/">Google+ API</a>.<br /><br /><b>Why do I need this? Google already provides Java libraries for its APIs.</b><br /><br />Indeed you can use the Java libraries from Google, but there are cases where you may benefit from using Spring Social instead. For once, Spring Social comes with an authentication mechanism that removes the need for you to write Servlet code for the stages of the OAuth2 process. You can read about it <a href="http://static.springsource.org/spring-social/docs/1.0.x/reference/html/signin.html">here</a>. Another goodie Spring Social provides is connection management and persistence, so you don't have to deal with session management and and writing your own database schema to store the users' access tokens. You can read about it <a href="http://static.springsource.org/spring-social/docs/1.0.x/reference/html/serviceprovider.html">here</a>. You can see how to set up both mechanisms in the <a href="https://github.com/GabiAxel/spring-social-google/tree/master/spring-social-google-quickstart/spring-social-quickstart">example application</a>, specifically in <a href="https://github.com/GabiAxel/spring-social-google/blob/master/spring-social-google-quickstart/spring-social-quickstart/src/main/java/org/springframework/social/quickstart/config/SocialConfig.java">SocialConfig.java</a> , <a href="https://github.com/GabiAxel/spring-social-google/blob/master/spring-social-google-quickstart/spring-social-quickstart/src/main/java/org/springframework/social/quickstart/config/WebMvcConfig.java">WebMvcConfig.java</a> and <a href="https://github.com/GabiAxel/spring-social-google/blob/master/spring-social-google-quickstart/spring-social-quickstart/src/main/webapp/WEB-INF/spring-config.xml">spring-config.xml</a> .<br /><br />Spring Social also takes a different approach than Google's Java libraries in that Google's libraries provide a Java API that mirrors the underlying REST API (be it Atom, Portable Contacts or other), while Spring Social aims to provide you with data structure and operations you are likely to use.<br />Let's use both tools to write a program that fetches the user's contacts and prints their names and primary e-mail addresses.<br /><br />Here is how it's done with Google Contact API Java library:<br /><br /><pre class="brush: java">ContactsService service = getContactsService();<br />URL feedUrl = new URL("https://www.google.com/m8/feeds/contacts/default/full");<br />ContactFeed resultFeed = service.getFeed(feedUrl, ContactFeed.class);<br />for (ContactEntry entry : resultFeed.getEntries()) {<br />   String fullName = entry.getName().getFullName().getValue();<br />   String email = null;<br />   for(Email e : entry.getEmailAddresses() {<br />      if(email.getPrimary) {<br />         email = e;<br />         break;<br />      }<br />   }<br />   System.out.println(fullName + " " + email);<br />}</pre><br />And here is the equivalent Spring Social Google code:<br /><br /><pre class="brush: java">GoogleOperations google = getGoogleOperations();<br />List<Contact> contacts = google.contactOperations().getContactList();<br />for(Contact contact : contacts) {<br />   String fullName = contact.getFullName();<br />   String email = contact.getPrimaryEmail();<br />   System.out.println(fullName + " " + email);<br />}</pre><br />It's up to you to decide if you prefer the simplicity of Spring Social or the flexibility of the Google API Java libraries.<br /><br /><b>Is the project stable? What is its roadmap?</b><br /><br />Spring Social Google is still at an early stage, so there are no builds and the API may change. Aside of the currently implemented Contacts and Google+ APIs, the project is expected to include more and more of Google APIs over time. You are welcome to <a href="https://github.com/GabiAxel/spring-social-google">download the sources</a> and play with the example application, which is also <a href="http://googleapis.cloudfoundry.com/">deployed on Cloud Foundry</a><br /><br />Enjoy and send feedback!
