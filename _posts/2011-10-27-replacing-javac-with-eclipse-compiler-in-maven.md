---
layout: post
title: Replacing javac with eclipse compiler in Maven
created: 1319720880
author: gabi
permalink: /replacing-javac-eclipse-compiler-maven
---
I was working on a Java project with eclipse where I used cyclic dependencies. Specifically I implemented the <a href="http://arcbees.wordpress.com/2010/09/03/reversing-the-mvp-pattern-and-using-uihandler/">Reverse MVP pattern</a> with <a href="http://code.google.com/p/gwt-platform/">GWT Platform</a>. Everything went well in as long as I was using eclipse to compile the project, but once I tried to use Maven to compile the project, I got compilation errors for every case where I had a cyclic dependency. I figured that if eclipse is good enough to compile the sources in development time, it might as well be used in build time instead of JDK's javac. Here is the maven-compiler-plugin configuration from the project POM I initially had:  <pre class="brush: xml"><plugin><br />   <groupId>org.apache.maven.plugins</groupId><br />   <artifactId>maven-compiler-plugin</artifactId><br />   <version>2.3.2</version><br />   <configuration><br />      <source>1.6</source><br />      <target>1.6</target><br />   </configuration><br /></plugin></pre> In order to replace javac with eclipse compiler we need to do two things: we need to add a dependency for plexus-compiler-eclipse, and we need to tell the maven-compiler-plugin to use the eclipse compiler <a href="http://maven.apache.org/plugins/maven-compiler-plugin/non-javac-compilers.html">as described here</a>. Here is the updated configuration:  <pre class="brush: xml"><plugin><br />   <groupId>org.apache.maven.plugins</groupId><br />   <artifactId>maven-compiler-plugin</artifactId><br />   <version>2.3.2</version><br />   <configuration><br />      <compilerId>eclipse</compilerId><br />      <source>1.6</source><br />      <target>1.6</target><br />   </configuration><br />   <dependencies><br />      <dependency><br />         <groupId>org.codehaus.plexus</groupId><br />         <artifactId>plexus-compiler-eclipse</artifactId><br />         <version>1.8.2</version><br />      </dependency><br />   </dependencies><br /></plugin></pre> After that it was possible to build the project with Maven.
