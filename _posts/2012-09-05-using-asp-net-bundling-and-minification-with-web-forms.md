---
layout: post
title: Using ASP.NET Bundling and Minification with Web Forms
created: 1346823360
author: igorz
permalink: /net/using-aspnet-bundling-and-minification-web-forms
tags:
- .NET
- .Net Open Source
---
<b>Bundling and Minification</b> is a new feature of ASP.NET 4.<br />Learn more from this tutorial <a href="http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification">http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification</a>.<br /><br />It has been promoted as part of ASP.NET MVC 4, but actually does not depend on MVC stack and may by used within any ASP.NET application including ASP.NET Web Forms.<br /><br />When you start a new ASP.NET MVC 4 application using Visual Studio template, it sets up all what you need to start using this feature, but if you have an existing ASP.NET application (even not MVC), you have to complete following steps to make it works with your app.<br /><br /><a name='more'></a><br /><h3>Adding reference to <i>System.Web.Optimization </i>library</h3><div>System.Web.Optimization is not a part of .NET 4 framework. But it is provisioned by NuGet package manager.</div><div><br /></div><div>Open NuGet and search for <i>Microsoft.AspNet.Web.Optimization</i> package.</div><div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-WNZR0zin95A/UEbTzI7fbPI/AAAAAAAAPhk/pbvlN4OMXLg/s1600/2012-09-05_07h05_38.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="443" src="http://4.bp.blogspot.com/-WNZR0zin95A/UEbTzI7fbPI/AAAAAAAAPhk/pbvlN4OMXLg/s640/2012-09-05_07h05_38.png" width="640" /></a></div><br /><br />As you may see, it depends on two other packages, but you don't have to worry, NuGet will manage all dependencies and will install them as well.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-76O-gxHBKMc/UEbVQgU6GrI/AAAAAAAAPhs/KJOp2q2d8Gk/s1600/2012-09-05_07h07_11.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="444" src="http://2.bp.blogspot.com/-76O-gxHBKMc/UEbVQgU6GrI/AAAAAAAAPhs/KJOp2q2d8Gk/s640/2012-09-05_07h07_11.png" width="640" /></a></div><br />Now you may see a few new references added to your project:  <i>Antlr3.Runtime, Microsoft.Web.Infrastructure, System.Web.Optimization and WebGrease.</i><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-yF_5CqXqoVo/UEbWWeUZ59I/AAAAAAAAPh0/BgLyUpy5lZc/s1600/2012-09-05_07h31_47.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-yF_5CqXqoVo/UEbWWeUZ59I/AAAAAAAAPh0/BgLyUpy5lZc/s1600/2012-09-05_07h31_47.png" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div>All new referenced are set to be copied to <i>/bin </i>folder (Copy Local = true in property window), so they are deployed to server with your application. No need to mess with GAC :).<br /><br /><h3>Register bundle</h3></div><div><br /></div><div>All the rest is according to <a href="http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification">tutorial</a>. Register bundles with <i>Application_Start</i><i>:</i></div><div><i><br /></i></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-n7tqsa9hg4M/UEbY5Q06hGI/AAAAAAAAPh8/jKBWHHxAW-Y/s1600/2012-09-05_07h44_28.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-n7tqsa9hg4M/UEbY5Q06hGI/AAAAAAAAPh8/jKBWHHxAW-Y/s1600/2012-09-05_07h44_28.png" /></a></div><h3>Include bundle in the page</h3><div>In my scenario I use Web Forms and have an *.aspx with a master page. To include the bundle in the page, it is simply enough to add one line of code within <i>head</i> tag:</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-2QG5oEBnLYc/UEbaYwwj8xI/AAAAAAAAPiE/1DALW5qx54o/s1600/2012-09-05_07h50_28.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-2QG5oEBnLYc/UEbaYwwj8xI/AAAAAAAAPiE/1DALW5qx54o/s1600/2012-09-05_07h50_28.png" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><h3>Runing application</h3><div>Now you can run the application. Depending on <i>debug </i>settings in <i>Web.config </i>you will get either all scripts (included in the bundle) included separately in the page (debug="true") for debugging purpose, or single all-in-one minified script include</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-1JVW6--ya6s/UEbhM5t7v3I/AAAAAAAAPiU/rsqQZ74r88k/s1600/2012-09-05_08h19_02.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-1JVW6--ya6s/UEbhM5t7v3I/AAAAAAAAPiU/rsqQZ74r88k/s1600/2012-09-05_08h19_02.png" /></a></div><h3>CSS bundling</h3><div>In the same manner you can use CSS bundling</div><div><br /></div><div>Register <i>StyleBundle</i>:</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-NUPqH1ysI3c/UEbjU2udfQI/AAAAAAAAPik/kOUVAMlBW-4/s1600/2012-09-05_08h28_52.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-NUPqH1ysI3c/UEbjU2udfQI/AAAAAAAAPik/kOUVAMlBW-4/s1600/2012-09-05_08h28_52.png" /></a></div><div><br /></div><div>Include in the page:</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-Gc4YlpIr8kQ/UEbj8aIbVdI/AAAAAAAAPis/V0AYKx4XK1A/s1600/2012-09-05_08h31_31.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-Gc4YlpIr8kQ/UEbj8aIbVdI/AAAAAAAAPis/V0AYKx4XK1A/s1600/2012-09-05_08h31_31.png" /></a></div><div><br /></div>
