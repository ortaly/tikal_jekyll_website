---
layout: post
title: Soap Model Duplication / Mitigation
created: 1365427462
author: chaim.turkel
permalink: soap-model-duplication-mitigation
tags:
- JAVA
- Java
- soap
- XML
- xsl
- domain trasfromations
---
<br />
<div class="MsoNormal" style="background: #EEEEEE; line-height: 31.5pt; margin-left: 9.75pt; margin-top: 27.0pt; mso-margin-bottom-alt: auto; mso-outline-level: 1;">
	&nbsp;</div>
<div class="MsoNormal" style="background-position: initial initial; background-repeat: initial initial; line-height: 31.5pt; margin-left: 9.75pt; margin-top: 27pt;">
	<span style="color: white; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; font-size: 26.5pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-font-kerning: 18.0pt;">Soap Model Duplication / Mitigation<o:p></o:p></span></div>
<div class="MsoNormal" style="text-align: justify;">
	When creating a soap interface (or any other external api) after you already have a very big internal model base can be very difficult<b>. <o:p></o:p></b></div>
<div class="MsoNormal" style="text-align: justify;">
	The optimal architectural design is to have two model bases one internal and one external. The reason for this is to decouple internal code from external. Usually the external interface does not change much and refactoring is not an option (since the clients are already using this interface). On the other hand internal structures are always being refactored to meet new requirements. If the subset functionality needed to be exported is well defined, then the decision is usually strait forward, since the external api by requirement will be different from the internal.<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	The problem is that if your model is very big and the requirement are to export all internal functionally then we have the problem of duplicating the full model (which can be tens if not hundreds of classes). <o:p></o:p></div>
<div class="MsoNormal">
	In any case when having a dto we need a simple way to covert from the external api to the internal and vice versa. <o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	When looking from above there are two major options (in the case of xml based protocols). In the case of soap the protocol is based on xml documents. So any request is converted from xml to an object and then the result is converted from the object back to xml. <o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	So if we need to transform the request from the external api to the internal api, we can either do it on the object level or on the xml level.<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	The object level is the more known way to do conversions since it is not protocol specific, and can be done on the external level in code. The disadvantage is that the transformations are not always easy and need an external framework to help (see <a href="http://dozer.sourceforge.net/">http://dozer.sourceforge.net/</a>). Another disadvantage is that the code becomes very &ldquo;dirty&rdquo; with a lot of lines just for the transformation.<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	Another option that I want to expand on is the option for transformation on the xml level. Since the protocol of soap is based on xml and xsd schemes, there is an option of transforming the incoming and outgoing xml using xslt. Xslt is widely known and has a lot of transformation capabilities (<a href="http://www.w3schools.com/XSL/">http://www.w3schools.com/XSL/</a>).<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	In this solution you have only one model base and do the transformations on the xml level and not on the object level.<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	Using a framework like CXF (<a href="http://cxf.apache.org/">http://cxf.apache.org/</a>) for soap, it is very easy to add xslt files for your soap requests. <o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	The way CXF works, is that for every incoming and outgoing request there is a list of interceptors that are called. The message is sent to each interceptor (order can be set) in the chain before and after. So the soap request will pass through the interceptors, and one of them will do the transformations.<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	CXF supports two types of transformations: StaxTransformFeature, XSLTFeature.<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	The difference between the two, I copied from the site of CXF (http://cxf.apache.org/docs/xslt-feature.html):<o:p></o:p></div>
<div style="background: #F0F0F0; border-bottom: solid #3C78B5 1.0pt; border: none; mso-border-bottom-alt: solid #3C78B5 .75pt; mso-element: para-border-div; padding: 0in 0in 2.0pt 0in;">
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin: 27pt 0in 3pt; padding: 0in;">
		<span style="color: #003366; font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 18.0pt;">When should I use Transformation Feature and when XSLT Feature?<o:p></o:p></span></h1>
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin: 27pt 0in 3pt; padding: 0in;">
		<span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8.5pt; font-weight: normal;">If only trivial transformations must be done, it is recommended to use lightweight and fast Transformation Feature. It covers the most use cases as:<o:p></o:p></span></h1>
</div>
<div style="background: #F0F0F0; border-bottom: solid #3C78B5 1.0pt; border: none; margin-left: .25in; margin-right: 0in; mso-border-bottom-alt: solid #3C78B5 .75pt; mso-element: para-border-div; padding: 0in 0in 2.0pt 0in;">
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin: 0in 0in 0.0001pt 0.25in; padding: 0in; text-indent: -0.25in;">
		<!--[if !supportLists]--><span style="font-family: Symbol; font-size: 8.5pt; font-weight: normal; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">&middot;<span style="font-family: 'Times New Roman'; font-size: 7pt; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8.5pt; font-weight: normal;">dropping the namespace of the outbound messages;<o:p></o:p></span></h1>
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin: 0in 0in 0.0001pt 0.25in; padding: 0in; text-indent: -0.25in;">
		<!--[if !supportLists]--><span style="font-family: Symbol; font-size: 8.5pt; font-weight: normal; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">&middot;<span style="font-family: 'Times New Roman'; font-size: 7pt; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8.5pt; font-weight: normal;">qualifying the incoming message;<o:p></o:p></span></h1>
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin: 0in 0in 0.0001pt 0.25in; padding: 0in; text-indent: -0.25in;">
		<!--[if !supportLists]--><span style="font-family: Symbol; font-size: 8.5pt; font-weight: normal; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">&middot;<span style="font-family: 'Times New Roman'; font-size: 7pt; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8.5pt; font-weight: normal;">changing namespaces;<o:p></o:p></span></h1>
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin: 0in 0in 0.0001pt 0.25in; padding: 0in; text-indent: -0.25in;">
		<!--[if !supportLists]--><span style="font-family: Symbol; font-size: 8.5pt; font-weight: normal; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">&middot;<span style="font-family: 'Times New Roman'; font-size: 7pt; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8.5pt; font-weight: normal;">appending or dropping elements;<o:p></o:p></span></h1>
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin: 0in 0in 0.0001pt 0.25in; padding: 0in; text-indent: -0.25in;">
		<!--[if !supportLists]--><span style="font-family: Symbol; font-size: 8.5pt; font-weight: normal; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">&middot;<span style="font-family: 'Times New Roman'; font-size: 7pt; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8.5pt; font-weight: normal;">converting attributes to elements.<o:p></o:p></span></h1>
</div>
<div style="background: #F0F0F0; border-bottom: solid #3C78B5 1.0pt; border: none; mso-border-bottom-alt: solid #3C78B5 .75pt; mso-element: para-border-div; padding: 0in 0in 2.0pt 0in;">
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin: 27pt 0in 3pt; padding: 0in;">
		<span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8.5pt; font-weight: normal;">Transformation Feature is completely stream oriented and work fast especially for large messages.<o:p></o:p></span></h1>
	<h1 style="background-position: initial initial; background-repeat: initial initial; border: none; margin-bottom: 3pt; padding: 0in;">
		<span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8.5pt; font-weight: normal;">If you should apply non-trivial transformation, not supported by Transformation Feature - it is use case for XSLT Feature. Here you can write any custom XSL Transformation and apply it to inbound and/or outbound messages.<br />
		As far as Xalan XSLT engine is actually not completely stream oriented, XSLT Feature breaks streaming. However it uses high-performance DTM (Document Table Model) instead complete DOM model.<br />
		Performance can be improved in the future by using further versions of Xalan or other XSLT engines (like Saxon or STX oriented Joost).<o:p></o:p></span></h1>
</div>
<div class="MsoNormal">
	&nbsp;</div>
<div class="MsoNormal" style="text-align: justify;">
	I will describe how to use the XSLTFeature since we need a full xsl file to transform the requests.<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	&nbsp;</div>
<div class="MsoNormal" style="text-align: justify;">
	In the application context of the CXF where you define your endpoints you need to define the following:<o:p></o:p></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">bean</span><span style="font-family: Consolas; font-size: 10.0pt;"> <span style="color: #7f007f;">id</span>=<i><span style="color: #2a00ff;">&quot;xsltFeatureSoapTestService&quot;</span></i> <span style="color: #7f007f;">class</span>=<i><span style="color: #2a00ff;">&quot;org.apache.cxf.feature.transform.XSLTFeature&quot;</span></i><span style="color: teal;">&gt;</span><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">property</span><span style="font-family: Consolas; font-size: 10.0pt;"> <span style="color: #7f007f;">name</span>=<i><span style="color: #2a00ff;">&quot;inXSLTPath&quot;</span></i> <span style="color: #7f007f;">value</span>=<i><span style="color: #2a00ff;">&quot;soapTransformers/requestTransformation.xsl&quot;</span></i> <span style="color: teal;">/&gt;</span><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">property</span><span style="font-family: Consolas; font-size: 10.0pt;"> <span style="color: #7f007f;">name</span>=<i><span style="color: #2a00ff;">&quot;outXSLTPath&quot;</span></i> <span style="color: #7f007f;">value</span>=<i><span style="color: #2a00ff;">&quot;soapTransformers/responseTransformation.xsl&quot;</span></i> <span style="color: teal;">/&gt;</span><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">bean</span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">jaxws:endpoint</span><span style="font-family: Consolas; font-size: 10.0pt;"> <span style="color: #7f007f;">implementor</span>=<i><span style="color: #2a00ff;">&quot;#soapTestService&quot;</span></i> <span style="color: #7f007f;">address</span>=<i><span style="color: #2a00ff;">&quot;/ws/SoapTestService&quot;</span></i><span style="color: teal;">&gt;</span><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">jaxws:features</span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">ref</span><span style="font-family: Consolas; font-size: 10.0pt;"> <span style="color: #7f007f;">bean</span>=<i><span style="color: #2a00ff;">&quot;xsltFeatureSoapTestService&quot;</span></i> <span style="color: teal;">/&gt;</span><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">jaxws:features</span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">jaxws:endpoint</span><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="text-align: justify;">
	&nbsp;</div>
<div class="MsoNormal" style="text-align: justify;">
	The first bean is what the interceptor will use. You need to create one per endpoint, since this bean will hold the in and out xls. Then on your endpoint you add the jaxws:features with a reference to your bean. <o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	This will cause the CXF to run the transformers on the incoming message and the outgoing message. <o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	To start testing this you can use a simple xsl that actually just copies the original xsl:<o:p></o:p></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:stylesheet </span></b><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">version</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;1.0&quot; </span></i><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">xmlns:xsl</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;http://www.w3.org/1999/XSL/Transform&quot;</span></i><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></i><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">xmlns:sapiens</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;http://soap.interfaces.internal.foundation.alis.sapiens.com/&quot;</span></i><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #3f5fbf; font-family: Consolas; font-size: 10.0pt;">&lt;!-- Identity Template # Copy everything --&gt;</span><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:template </span></b><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">match</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;@*|node()&quot;</span></i><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:copy</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:apply-templates </span></b><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">select</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;@*|node()&quot; </span></i><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">/&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:copy</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:template</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:stylesheet</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="text-align: justify;">
	&nbsp;</div>
<div class="MsoNormal" style="text-align: justify;">
	Then to easily remove a specific property from the xml you can write:<o:p></o:p></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:stylesheet </span></b><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">version</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;1.0&quot; </span></i><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">xmlns:xsl</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;http://www.w3.org/1999/XSL/Transform&quot;</span></i><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></i><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">xmlns:sapiens</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;http://soap.interfaces.internal.foundation.alis.sapiens.com/&quot;</span></i><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #3f5fbf; font-family: Consolas; font-size: 10.0pt;">&lt;!-- Identity Template # Copy everything --&gt;</span><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:template </span></b><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">match</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;@*|node()&quot;</span></i><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:copy</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:apply-templates </span></b><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">select</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;@*|node()&quot; </span></i><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">/&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:copy</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:template</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #3f5fbf; font-family: Consolas; font-size: 10.0pt;">&lt;!-- remove text --&gt;</span><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;</span></b><b><span style="background: silver; color: #3f7f7f; font-family: Consolas; font-size: 10.0pt; mso-highlight: silver;">xsl:template</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;"> </span></b><b><span style="color: #7f007f; font-family: Consolas; font-size: 10.0pt;">match</span></b><span style="font-family: Consolas; font-size: 10pt;">=</span><i><span style="color: #2a00ff; font-family: Consolas; font-size: 10.0pt;">&quot;msgText&quot;</span></i><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span></b><b><span style="background: silver; color: #3f7f7f; font-family: Consolas; font-size: 10.0pt; mso-highlight: silver;">xsl:template</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	&nbsp;</div>
<div class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-layout-grid-align: none; text-autospace: none;">
	<b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&lt;/</span></b><b><span style="color: #3f7f7f; font-family: Consolas; font-size: 10.0pt;">xsl:stylesheet</span></b><b><span style="color: teal; font-family: Consolas; font-size: 10.0pt;">&gt;</span></b><span style="font-family: Consolas; font-size: 10.0pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="text-align: justify;">
	&nbsp;</div>
<div class="MsoNormal" style="text-align: justify;">
	This will remove the xml element of msgText from the xml.<o:p></o:p></div>
<div class="MsoNormal" style="text-align: justify;">
	&nbsp;</div>
<div class="MsoNormal" style="text-align: justify;">
	As you can see it is very easy to remove attributes or nodes from the soap xml model, or to do any transformation that you need on the xml level, and not on the object level.<o:p></o:p></div>
<br />
